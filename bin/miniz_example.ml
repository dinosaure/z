let l_freqs =
 [|    0;   0;   0;   0;   0;    0;   0;   0;   0;   0; 88;  0;   9;   0;    0;   0;
       0;   0;   0;   0;   0;    0;   0;   0;   0;   0;  0;  0;   0;   0;    0;   0;
    2542;   0;  61;   0;   0;    2;   0;   0;  38;  39;  0;  0;  98;  24; 1028;   5;
      24;  57; 104;  72;  40;   38;  18;  18;  28;  20;  9;  4;   0;   1;    0;   0;
       0;  55;  13;  45;  21;   13;  48;   4;  19;  44;  0;  0;  33;  30;   19;  33;
      17;   4;  44;  68;  54;   27;   2;  12;   1;   1;  0; 16;   3;  25;    0;   0;
       0; 765; 116; 466; 379; 1308; 262; 142; 314; 780;  3; 34; 351; 258;  684; 660;
     223;  14; 604; 794; 852;  216;  75;  91;  58; 142;  4;  0;   0;   0;    0;   0;
       0;   0;   0;   0;   0;    0;   0;   0;   0;   0;  0;  0;   0;   0;    0;   0;
       0;   0;   0;   0;   0;    0;   0;   0;   0;   0;  0;  0;   0;   0;    0;   0;
       0;   0;   0;   0;   0;    0;   0;   0;   0;   0;  0;  0;   0;   0;    0;   0;
       0;   0;   0;   0;   0;    0;   0;   0;   0;   0;  0;  0;   0;   0;    0;   0;
       0;   0;   0;   0;   0;    0;   0;   0;   0;   0;  0;  0;   0;   0;    0;   0;
       0;   0;   0;   0;   0;    0;   0;   0;   0;   0;  0;  0;   0;   0;    0;   0;
       0;   0;   0;   0;   0;    0;   0;   0;   0;   0;  0;  0;   0;   0;    0;   0;
       0;   0;   0;   0;   0;    0;   0;   0;   0;   0;  0;  0;   0;   0;    0;   0;
       1; 587; 375; 228; 112;  110;  63;  58;  40;  61; 38; 28;   5;  22;   12;   4;
       2;  10;   7;   1;   4;    3;   0;   1;   0;   0;  0;  0;    0;  0;    0;   0 |]

let d_freqs =
 [| 381;   0;   0;  18;  36;  52; 164; 170; 287; 296; 663; 507; 1176; 462; 744; 379;
    421; 241; 245; 124; 154;  66; 103;  35;  20;   5;   0;   0;    0;   0;   0;   0 |] ;;

let q = Z.B.create 4096

let () =
  let b = Buffer.create 4096 in
  let d = Z.N.dynamic_of_frequencies ~literals:(Obj.magic l_freqs) ~distances:(Obj.magic d_freqs) in
  let encoder = Z.N.encoder (`Buffer b) ~q in
  let go = function
    | _ -> () in
  go @@ Z.N.encode encoder (`Block { Z.N.kind= Z.N.Dynamic d; last= true })
